-- phpMyAdmin SQL Dump
-- version 3.3.7
-- http://www.phpmyadmin.net
--
-- Host: 10.32.6.242:3306
-- Generation Time: Oct 08, 2010 at 11:51 AM
-- Server version: 5.0.77
-- PHP Version: 5.2.5

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";

--
-- Database: `SMS_API_V22`
--

-- --------------------------------------------------------

--
-- Table structure for table `CREDIT_TRANSACTION`
--

CREATE TABLE IF NOT EXISTS `CREDIT_TRANSACTION` (
  `CREDIT_TRANSACTION_ID` int(11) NOT NULL auto_increment,
  `TRANSACTION_REF` varchar(14) NOT NULL,
  `USER_ID` int(11) NOT NULL,
  `CREDIT_REQUESTER` varchar(30) NOT NULL,
  `CREDIT_AMOUNT` bigint(20) NOT NULL,
  `CREDIT_PRICE` decimal(16,2) NOT NULL,
  `CURRENCY_CODE` varchar(3) NOT NULL,
  `PAYMENT_METHOD` varchar(16) NOT NULL,
  `PAYMENT_DATE` date default NULL,
  `PAYMENT_ACK` bit(1) NOT NULL default b'0',
  `CREATED_BY` int(11) NOT NULL,
  `CREATED_DATE` datetime NOT NULL,
  `UPDATED_BY` int(11) default NULL,
  `UPDATED_DATE` datetime default NULL,
  `TRANSACTION_REMARK` varchar(250) NOT NULL default '',
  PRIMARY KEY  (`CREDIT_TRANSACTION_ID`),
  UNIQUE KEY `TRANSACTION_REF` (`TRANSACTION_REF`),
  KEY `USER_ID` (`USER_ID`),
  KEY `CURRENCY` (`CURRENCY_CODE`),
  KEY `PAYMENT_METHOD` (`PAYMENT_METHOD`),
  KEY `CREATED_BY` (`CREATED_BY`),
  KEY `CREATED_DATE` (`CREATED_DATE`),
  KEY `PAYMENT_DATE` (`PAYMENT_DATE`),
  KEY `UPDATED_BY` (`UPDATED_BY`),
  KEY `PAYMENT_ACK` (`PAYMENT_ACK`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `CREDIT_TRANSACTION`
--
ALTER TABLE `CREDIT_TRANSACTION`
  ADD CONSTRAINT `CREDIT_TRANSACTION_ibfk_1` FOREIGN KEY (`USER_ID`) REFERENCES `USER` (`USER_ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `CREDIT_TRANSACTION_ibfk_15` FOREIGN KEY (`CREATED_BY`) REFERENCES `ADMIN` (`ADMIN_ID`) ON DELETE RESTRICT ON UPDATE CASCADE,
  ADD CONSTRAINT `CREDIT_TRANSACTION_ibfk_16` FOREIGN KEY (`UPDATED_BY`) REFERENCES `ADMIN` (`ADMIN_ID`) ON DELETE RESTRICT ON UPDATE CASCADE;
